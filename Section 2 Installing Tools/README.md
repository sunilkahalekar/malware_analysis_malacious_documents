## 3. Installing windows VM

I will show you how to set up a lab for malware analysis. Why do we need to set up a lab in the first place?

Malware can damage your computer if you execute it. So we need a lab in order to have a safe environment that we can use to analyze and execute and run

malware also.  let me get your machine actually is able to be reset to its previous date. So after analyzing or executing malware, we can always reset it to his previous date.

And the previous date are snapshots. So we create snapshots before we analyze malware and we revert back to this snapshot after we finished the analysis.

Let's get started.

The requirements are as follows, we need to use virtual machine creator to create which machines and there are two popular ones Oracle Virtual Box. We read virtual boxes free and you can get it from this link here. On the other hand, we own way has got two versions. The first version, VMware Workstation Pro, is a 30 day trial. Once the 30 day trial expires, he will not be able to use it any longer. The second version is very workstation player. It is free but cannot create snapshots, so it is not suitable for our purpose. So either you go for virtual box or we may workstation pro, which is 30 days, but I wouldn't recommend it because after 30 days you can no longer use it. So if you are going to go for free and not ready to buy the license for the gaming workstation pro, then stick with your box, which is free. So the link is here and this is the website where you can just go ahead and click on the Windows host and download it.

After downloading it, you will get up and running it. You will get, windows, which look like this. As you can see on the left panel, I have already installed several which are machines. Next, you need to download ISO image with Windows seven, ultimate 32 bit working. Now, the reason why we need Windows seven, the little bit is because Windows seven has got a smaller footprint. You will find more samples targeting the Windows seven machine. Second reason is Windows seven machine is small, the size and footprint and less resource intensive competitive in those 10 and most malware is 32 bit, although there are also those targeting a 64 bit. So go for the Windows seven ultimate.

And then after that, you need to install the gas addition to use for the virtual machine, the gas addition to allow you to go full screen and also allow you to share folders, sharing folders is important because you want to transfer tools and files between your host computer and your guess your machine. Then we will look at how the check for the two to change fast speeding guest and host and also how to create a base snapshot of the virtual machine after configuring it.

Next, we will look at how to configure the virtual machine. In this case, your virtual machine is your Windows seven service pack, one ultimate 32 bit version. We will disable those Windows update, disable Windows Defender, which is the antivirus for Windows Disable, hiding all this file extensions and embouchure, all hidden files and folders disable he as our current. SLR is where you ready operating system randomise is the entry point for programs which are running. So we should disable it so that every time you want analyze, you will get the same entry point for the memory addresses.

Then we should also disable Windows firewall and finally create a snapshot. So the first step is to install the create new virtual machine after downloading Windows seven. You have Farnaby quite long. He has got the ISO extension. The file size is approximately three point eight gigabyte triploid gigabytes, so just rename it to make it shorter.

I call mine Windows seven. So this one Espie one just a little bit. I remember the location for this where you put it. You can place it somewhere convenient for you and then how we are going to go through the process of creating a new watch machine. Click on the machine and then click on New and over here, give a name for it called Windows seven.

Windows seven, Ultimate Hespe, one right to be. Then you can leave the machine for a default as it is and then go here and look for new settings, make sure it is selected as Windows seven, 72 bit. And then over here next. And this you can live it as a default if you have more ram, you can increase the ram size for in-memory. Maybe you can put two to zero for me and then click on next, and then you don't need to change anything,

just click on the create button and hear click on Nice Little Default I this and here live it as dynamically allocated and click on next. And they should be fine, as he said, dynamically group, truly klingler next. And now you can, uh, power it on and now you select, uh, start up this. So click on it and go and look for the new. I saw image.

I saw and go to the hotel where you download it, where you place your.

I so wish this man and he'd been.

And then click and just click and then click start. And the installation process has begun. You install it just like any operating systems or windows, you go through the whole process and this will take some time.

Just so we just let it run, and once he it has completed, we can stop the gas addition CD, so you are on the next king or you start.

Click accept the licensing agreement did not is Windows seven, ultimate espie one. Clicking on this. And King on custom and in here, Ali, unallocated space, click on next.

And he has begun copying files, so let it run. So I just let it run now and we will stop the video for now and I will see you in the next lesson and continue where we left off.

## 4.Configuring windows VM
Now Virtual machine has rebooted and restarted. So you can give a user name if you want and click on next. And I'm going to leave the password blank. And yes, you keep your product key and then check this one will not activate and then click next, if you don't have the product, you can just skip and do it later. So in this case here, we just skip me just now and just click. Skip and hear, click on Ask me later. And here you can set your time zone if you want and click on next. And anything we do here.


Now you can install your gas addition CD, so go up to the device here and he said Desolations CD. Next, open your computer, go to your computer and your gas CDs here, so double click on this to install. And select the proper one for your system, which is X eighty six, so that will clean this one. Yes, to run it. Next, a Kleenex. So the puppies over here program Philco.

A picnic's.

And check on this inbox and clicking on. And then click on reboot, now they finish. So you really put your machine. Now you can go to full screen, you click on The View full screen.

If your washing machine cannot go to full screen, then shut it down and then come down here selected click on settings. And then over here, Saturday display and increases to one to eight. The maximum and then here and you will see the acceleration. And then typing in. Now you can go to full screen mode.

There you have it, if you want to restore back to Windows, we don't just move your closer to the bottom of the screen and holy day and this bar will pop up and just click on this icon. Next thing you want to do is set up the shareholder, so to create a check for the first, you go to your seed, right?

And then create a new home to renegotiate our Emmy or any other name you prefer, and then you here. So like the witch machine and then clean settings and the and the chef for this one here at New SHEFFLER. And if the to select their. And going to see Father, which you created a photo which you created this one click on Select for the. So Halterman and click on Make Permanent.


Click on the file explorer and you should be able to see for the map as a zip drive. So this is where you can share files between your house and your guest operating system. So whatever you put in here will also be available in your host and vice versa. So now the next item is to disable windows. Disable windows have the. So to disable the Windows update.
Search for Abdeh and click on the results of the. And here, let me choose my settings. So that option, never check for this and then, 

Because of this, who detect new viruses and so on, so you're doing your windows to detect the virus when you doing analysis. So the next item will be disable windows defender, so to disable Windows Defender, who here? You search for services that masc click on services, witness, defender, Windows Antivirus.

If you don't disable it, he will prevent you from analyzing malware. So scroll down and look for Windows Defender.

He's going right, click on it and select properties. And a woman is set to automatic, so we change it to disable, click, stop, stop the service and apply.

Now you check with the defender disable. The next thing you want is to disable the extension's. So open your file, explorer, open any directory and they're here.

Organizers have all the options so they can view and then down here, schoolgoing. And check this box extension for nonvolatile. So this one is disabled tension, sure, he didn't file for. So look for changes to anybody. They showed it in the file folder. So now you these two settings, you'll be able to see the file extensions basically apply.

OK, so now if you go to any folder, the file extension will be visible. You can see how visible this is important because sometimes a mask is too tight. It could be a foul and you could see and because then you thought a -- is a common trick and also hidden, false and not invisible. You want to see hidden files because somehow they put themself make a copy of his having some hidden file location.

And if it's not disabled, you baby, he won't be able to see the hidden files. Next is to disable SLR, which stands for address space layout randomisation is a security feature that randomisation memory addresses used by executable code, including details so that NBC had to analyze binary files. So you want to disable that. So it makes it easy for us to analyze the binary files of the malware. So to do that, to disable it, we open a program called Registry EDIT. And then we go to this location. Hish go and look a machine, so the registry's where Venus gives all these configurations, so just open this and look for. Corine.

The system. And then look for current control set, current control set. And they look for control. Noufal session manager. And then two for memory management, memory management, click on it and you say here we must add a new key. So just right click here and I knew and the Kemistry to be fairly. You and give you the name of more images, the default is zero.
So that is why we want to this tells me there was not two more images and we start to move the process when it's loaded into memory. 

Let me give you Sarteano specify entry point when the programmer loyalty program. So I see. So this disable.

So now you need to restart, reboot your computer to have this take effect. The next thing is disable Windows firewall.

So right. Click here. Such for Windows firewall or just like firewall.

And so, like this one, we know the firewall. The reason is because if you want to analyze malware, malware typically will call a control and command center and try to connect to a server on the Internet. And we want to know where it goes. So you disable Duniya then? We know Steve King of Iowa of.

And here, select enough for both, OK?

Can you confirm that, Istana? Next thing you want is snapshot, so to create a snapshot, you can go down to the bottom of your mouth here and go to your kitchen.

So just hold your mouse. Head the bottom here, select a machine, take a snapshot. And here you can see the if you want to go to one, for example, and mount.

And the D and C fresh. And you hear some description configured click, OK, and you create a snapshot of the state of the machine. If you want to restore, you have to shut this down first. Shut down. So after shutting down, you can see over here there is a list of all these snapshots, so clearly this is a snapshot, fresh install, and he changed.

If you want to revert back to freshly histologies selected and he restore and make sure you can check this and clean restore. And he goes back to the previous state, as you can see from my earlier machines, some of my machines has multiple snapshots. And if I wanted to go back to an earlier snapshot, all I have to do is select the earliest snapshot, clean restore.

So this is useful form of analysis, because every time you run a mile away, it will corrupt your files and redistricting and other things, and you always want to restore back to the previous state before the game was executed. And this is the workflow for every malware analysis section. And remember to take a snapshot before you execute any malware and restore it back when you had finished.

That's all for us.

## 5. Installing Adobe Acrobat and Microsoft Office 2013

We also need to install to the Sotiri one, these acrobat reader, which have already done so. If you don't have a reader, please go and download from the Internet and install it.

The second one is Microsoft Office professional plus two zero one three. You could also use Microsoft Office two, zero and three. So if you already have, go ahead and install it. 
Otherwise you can search for a copy of the installer from the Internet. You can use BitTorrent search engine and look for a torrent file and Glenelg one. So now I am going to show you the story. 

And so according to the instructions here, he just says, click setup.

Just click setup. So he said APHC. So I click.

So remember, I'm installing all this in my windows, which are machine, so I'm going to let you install. They don't accept the terms of the agreement, they continue in here, click on install No. Yes, completed installation is close and you can close this now and see, right?

So let's go to the start icon on the bottom left corner. Click on you and look for what? So click on to zero and three. A very successfully installed it. The thing on this.

You know, these things are starting up. You can just close it in the plain document. Hey, just type something, any looks, you can see this. And save it on the desktop as a doxy extension. Now, we closed Microsoft Word in here, so far we have created with the extension of the DLC ex, so there's double click on it anyways. So this is a successful installation of Microsoft Office. 

## 6. Installing RemNux


The next two, we are going to install his RemNux, what his RemNux are  is enough stupidity for reverse engineering and analyzing malicious software. It is available for free from clergy and was initially released in July 2010. It includes hundreds Elphinstone and reconfigure TOS and is a popular distribution among Malware analysts. And he was created by Lenny Selzer and contributed by Corey Feldman and Eric Christensen. And this is a user interface and we are going to install RAMNATH using the first method there is to download the movie APHA to download the over file and just head over to the remnants of R.G. website over here and click on the source and the distro you can see here download the Ramnath VM.

The easiest way to get Ramna distro is to download the virtual machine in Yoovidhya format and then imported into your hypervisor, which is in this case, Oracle. Your box. Just double click the wi fi and you will automatically import into your Oracle virtual box. So using this method, the first method and this is some screenshot of the import processing oracle, which a box and username is the password default password is malware. It is a login when you first. But after installing, I think that's all we need to know about this from this slice is slightly greater. To Lenny Cells from San Institute going down the over file, which I just mentioned, and open it and install it and then I'll see you in the next lesson.

